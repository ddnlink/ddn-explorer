(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{lVdW:function(e,t,a){"use strict";a.r(t);var i,r,n,s=a("d6i3"),o=a.n(s),l=(a("miYZ"),a("tsqr")),c=a("p0pE"),d=a.n(c),m=a("1l/V"),p=a.n(m),g=a("q1tI"),x=a.n(g),f=(a("bZMm"),a("EVdn")),h=a.n(f),b=a("wOnQ"),v=a.n(b),E=a("wd/R"),u=a.n(E),y=a("6YkS"),w=a("LLXN"),M=a("0vJj"),k=a.n(M),S=a("yusu"),N=a("MuoO");function H(e){var t="";return e<1024?t=e+"Bytes":(e/=1024,e<1024?t=e.toFixed(0)+" Kb":(e/=1024,e<1024?t=e.toFixed(2)+" Mb":(e/=1024,e<1024?t=e.toFixed(2)+" Gb":(e/=1024,t=e.toFixed(2)+" Tb")))),t}var j=(i=Object(N["connect"])(e=>{var t=e.assert;return{certificate:t.certificate}}),i((n=class extends x.a.Component{constructor(e){var t;super(e),t=this,this._loadDetailInfo=p()(o.a.mark(function e(){var i;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i=t.props.match.params.id,t.props.dispatch({type:"assert/getCertificate",payload:d()({},i),callback:e=>{if(console.log("certificate",e),!0!==e.success)l["a"].error(e.error);else{var t=a("0FX9"),i="http://testnet.ebookchain.org/transactions/"+e.data.list[0].transactionId;t.toDataURL(i,function(e,t){document.getElementById("imgQrCode").src=t})}}});case 2:case"end":return e.stop()}},e)})),this.state={data:null,address:""},this._downloadCertImage=this._downloadCertImage.bind(this)}componentWillMount(){document.title="Ebooker Ident"}componentDidMount(){this._loadDetailInfo()}_downloadCertImage(){var e=h()("#certInfo"),t=e.clone();t.width(e.width()+"px"),t.height(e.height()+"px"),h()("body").append(t),console.log("$('body')",h()("body")),console.log("************",t),v()(t,{useCORS:!0,logging:!0,onrendered:function(e){console.log("******************jinru onrender");var a=e.toDataURL(),i=new Date,r=i.getMonth()+1;r=r<10?"0"+r:r;var n=i.getDate();n=n<10?"0"+n:n;var s=i.getHours()<10?"0"+i.getHours():i.getHours(),o=i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes(),l=i.getSeconds()<10?"0"+i.getSeconds():i.getSeconds(),c="\u8ba4\u8bc1\u4fe1\u606f_"+i.getFullYear()+"-"+r+"-"+n+"-"+s+"-"+o+"-"+l+".png",d=h()("<a>").attr("href",a).attr("download",c).appendTo("body");d[0].click(),d.remove(),t.remove()}})}render(){var e=this.props.certificate,t=e.address,a="";return e?("senderId",x.a.createElement("div",{style:{position:"relative",height:"1020px",width:"100%"}},x.a.createElement("div",{style:{top:"0",left:"0",right:"0",bottom:"0"}},x.a.createElement("div",{className:k.a["detail-content"]},x.a.createElement("div",{id:"certInfo",className:k.a["cert-info"],style:{float:"left"}},x.a.createElement("div",{className:k.a["cert-item-lab"],style:{marginTop:"260px"}},Object(w["formatMessage"])({id:"assets.title"}),":"),x.a.createElement("div",{className:k.a["cert-item-data"]},e.title),x.a.createElement("div",{className:k.a["cert-item-lab"]},Object(w["formatMessage"])({id:"assets.contentHash"}),":"),x.a.createElement("div",{className:k.a["cert-item-data"]},e.hash),x.a.createElement("div",{className:k.a["cert-item-lab"]},Object(w["formatMessage"])({id:"assets.copyrightBelongs"}),":"),x.a.createElement("div",{className:k.a["cert-item-data"]},t),x.a.createElement("div",{className:k.a["cert-item-lab"]},Object(w["formatMessage"])({id:"assets.size"}),":"),x.a.createElement("div",{className:k.a["cert-item-data"]},H(e.size||0)),x.a.createElement("div",{style:{paddingRight:"130px",marginTop:"30px"}},x.a.createElement("div",{style:{float:"left",paddingTop:"30px"}},x.a.createElement("div",{className:k.a["cert-item-lab"],style:{marginBottom:"15px",fontSize:"16px",color:"#666"}},Object(w["formatMessage"])({id:"assets.ipidNumber"}),":"),x.a.createElement("div",{className:k.a["cert-item-data"],style:{fontSize:"16px",fontFamily:"arial"}},e.ipid)),x.a.createElement("img",{id:"imgQrCode",style:{float:"right",width:"120px",height:"120px"}})),x.a.createElement("div",{style:{clear:"both",paddingTop:"40px",marginLeft:"98px"}},x.a.createElement("div",{style:{margin:"20px 0"}},x.a.createElement("span",{className:k.a["cert-item-lab inline-div"]},Object(w["formatMessage"])({id:"assets.author"}),":"),x.a.createElement("span",{className:k.a["inline-div"],style:{marginLeft:"8px",color:"#666"}},e.author)),x.a.createElement("div",null,x.a.createElement("span",{className:k.a["cert-item-lab inline-div"]},Object(w["formatMessage"])({id:"assets.publishTime"}),": "),x.a.createElement("span",{className:k.a["inline-div"],style:{marginLeft:"8px",color:"#666"}},u()(S["a"].getRealTime(Number(e.timestamp))).format("YYYY-MM-DD HH:mm:ss")))),x.a.createElement("div",{style:{marginTop:"100px",textAlign:"center"}},x.a.createElement("div",{className:k.a["cert-item-lab"],style:{marginLeft:"0px",fontSize:"10px"}},Object(w["formatMessage"])({id:"assets.transId"}),": "),x.a.createElement("div",{className:k.a["cert-item-lab"],style:{marginLeft:"0px",fontSize:"10px"}},e.transactionId))),x.a.createElement("div",{style:{float:"left",paddingLeft:"10px"}},x.a.createElement("div",{style:{width:"250px"}},x.a.createElement("div",{style:{boxShadow:"0px 2px 4px #dddddd",padding:"20px"}},x.a.createElement("div",{style:{fontSize:"18px",color:"#000"}},Object(w["formatMessage"])({id:"assets.identifyInfo"})),x.a.createElement("div",{style:{fontSize:"12px",color:"#999999",lineHeight:"21px",marginTop:"15px"}},Object(w["formatMessage"])({id:"assets.ipidNumber"}),":"),x.a.createElement("div",{style:{fontSize:"12px",color:"#666666",lineHeight:"21px",marginBottom:"5px",wordWrap:"break-word"}},e.ipid),x.a.createElement("hr",{style:{background:"#eeeeee",margin:"0px",padding:"0px"}}),x.a.createElement("div",{style:{fontSize:"12px",color:"#999999",lineHeight:"21px",marginTop:"15px"}},Object(w["formatMessage"])({id:"assets.title"}),":"),x.a.createElement("div",{style:{fontSize:"12px",color:"#666666",lineHeight:"21px",marginBottom:"5px",wordWrap:"break-word"}},e.title,"\xa0\xa0\xa0",a),x.a.createElement("hr",{style:{background:"#eeeeee",margin:"0px",padding:"0px"}}),x.a.createElement("div",{style:{fontSize:"12px",color:"#999999",lineHeight:"21px",marginTop:"15px"}},Object(w["formatMessage"])({id:"assets.author"}),":"),x.a.createElement("div",{style:{fontSize:"12px",color:"#2971ad",lineHeight:"21px",marginBottom:"5px"},target:"_blank"},e.author),x.a.createElement("hr",{style:{background:"#eeeeee",margin:"0px",padding:"0px"}}),x.a.createElement("div",{style:{fontSize:"12px",color:"#999999",lineHeight:"21px",marginTop:"15px"}},Object(w["formatMessage"])({id:"assets.copyrightBelongs"}),":"),x.a.createElement(y["Link"],{to:"/accounts/"+t,style:{fontSize:"12px",color:"#2971ad",lineHeight:"21px",marginBottom:"5px",wordWrap:"break-word"},target:"_blank"},t),x.a.createElement("hr",{style:{background:"#eeeeee",margin:"0px",padding:"0px"}}),x.a.createElement("div",{style:{fontSize:"12px",color:"#999999",lineHeight:"21px",marginTop:"15px"}},Object(w["formatMessage"])({id:"assets.publishTime"}),":"),x.a.createElement("div",{style:{fontSize:"12px",color:"#666666",lineHeight:"21px",marginBottom:"5px"}},u()(S["a"].getRealTime(Number(e.timestamp))).format("YYYY-MM-DD HH:mm:ss")),x.a.createElement("hr",{style:{background:"#eeeeee",margin:"0px",padding:"0px"}}),x.a.createElement("div",{style:{fontSize:"12px",color:"#999999",lineHeight:"21px",marginTop:"15px"}},Object(w["formatMessage"])({id:"assets.fileLink"}),":"),x.a.createElement("div",{style:{fontSize:"12px",color:"#666666",lineHeight:"21px",marginBottom:"5px",wordWrap:"break-word"}},x.a.createElement("a",{href:e.url,target:"_blank"},e.url)),x.a.createElement("div",{style:{textAlign:"center"}},x.a.createElement("button",{style:{background:"#044a84",color:"white",border:"none",borderRadius:"2px",marginTop:"15px",width:"124px",lineHeight:"32px"},onClick:this._downloadCertImage},Object(w["formatMessage"])({id:"assets.downloadDcert"})))))),x.a.createElement("div",{style:{clear:"both"}}))))):x.a.createElement("div",{style:{textAlign:"center",fontSize:"18px",paddingTop:"100px"}},"the Dcert you are finding is not exist",x.a.createElement("a",{href:"javascript:window.location.reload();"},"click to refresh"))}},r=n))||r);t["default"]=j}}]);